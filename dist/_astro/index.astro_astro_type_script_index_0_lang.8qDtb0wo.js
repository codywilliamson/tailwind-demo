import{d as n}from"./dashboardData.BFIWEmhj.js";class i{constructor(){this.init(),this.startRealTimeUpdates(),this.setupInteractiveElements()}init(){this.setupQuickActionsDropdown(),this.updateSystemMetrics(),this.updateServiceHealth(),this.updateRecentActivity(),setInterval(()=>this.updateLastUpdatedTime(),3e4)}setupQuickActionsDropdown(){const t=document.getElementById("quick-actions-btn"),e=document.getElementById("quick-actions-menu");t?.addEventListener("click",()=>{e?.classList.contains("hidden")?(e?.classList.remove("hidden","scale-95","opacity-0"),e?.classList.add("scale-100","opacity-100")):(e?.classList.add("scale-95","opacity-0"),e?.classList.remove("scale-100","opacity-100"),setTimeout(()=>{e?.classList.add("hidden")},200))}),document.addEventListener("click",a=>{document.getElementById("quick-actions-dropdown")?.contains(a.target)||(e?.classList.add("scale-95","opacity-0","hidden"),e?.classList.remove("scale-100","opacity-100"))})}updateSystemMetrics(){const t=n.generateSystemMetrics(),e=t.find(o=>o.name==="CPU Usage");if(e){const o=document.getElementById("cpu-value"),r=document.getElementById("cpu-bar");o&&r&&(o.textContent=`${e.value}%`,r.style.width=`${e.value}%`,e.value>80?r.className=r.className.replace(/from-\w+-\d+ to-\w+-\d+/,"from-red-500 to-red-600"):e.value>60?r.className=r.className.replace(/from-\w+-\d+ to-\w+-\d+/,"from-yellow-500 to-yellow-600"):r.className=r.className.replace(/from-\w+-\d+ to-\w+-\d+/,"from-emerald-500 to-teal-600"))}const a=t.find(o=>o.name==="Memory Usage");if(a){const o=document.getElementById("memory-value"),r=document.getElementById("memory-bar");o&&r&&(o.textContent=`${a.value}%`,r.style.width=`${a.value}%`)}const s=t.find(o=>o.name==="Network I/O");if(s){const o=document.getElementById("network-value"),r=document.getElementById("network-bar");if(o&&r){o.textContent=`${s.value} ${s.unit}`;const d=Math.min(s.value/1e3*100,100);r.style.width=`${d}%`}}}updateServiceHealth(){const t=n.generateServiceStatuses(),e=document.getElementById("service-health");e&&(e.innerHTML=t.slice(0,6).map(a=>{const s={online:"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-200",offline:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",degraded:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"};return`
            <div class="flex items-center justify-between p-3 rounded-lg border border-emerald-200/50 dark:border-emerald-700/30 hover:bg-gradient-to-r hover:from-emerald-50/50 hover:to-teal-50/50 dark:hover:from-emerald-900/10 dark:hover:to-teal-900/10 transition-all duration-200 group">
              <div class="flex items-center space-x-3">
                <div class="w-2 h-2 rounded-full ${{online:"bg-gradient-to-r from-emerald-400 to-teal-500",offline:"bg-gradient-to-r from-red-400 to-red-500",degraded:"bg-gradient-to-r from-yellow-400 to-yellow-500"}[a.status]} animate-pulse shadow-sm"></div>
                <span class="text-sm font-medium text-gray-900 dark:text-gray-100 group-hover:text-emerald-700 dark:group-hover:text-emerald-300 transition-colors duration-200">${a.name}</span>
              </div>
              <span class="px-2 py-1 text-xs font-medium rounded-full ${s[a.status]} shadow-sm">
                ${a.status}
              </span>
            </div>
          `}).join(""))}updateRecentActivity(){const t=[{type:"deployment",message:"api-gateway deployed to production",time:"2 min ago",icon:"ðŸš€"},{type:"alert",message:"High memory usage detected",time:"5 min ago",icon:"âš ï¸"},{type:"security",message:"Security scan completed",time:"8 min ago",icon:"ðŸ”’"},{type:"system",message:"Database backup completed",time:"12 min ago",icon:"ðŸ’¾"},{type:"deployment",message:"user-service rollback completed",time:"18 min ago",icon:"â†©ï¸"}],e=document.getElementById("recent-activity");e&&(e.innerHTML=t.map(a=>`
          <div class="flex items-start space-x-3 p-3 rounded-lg hover:bg-gradient-to-r hover:from-emerald-50/50 hover:to-teal-50/50 dark:hover:from-emerald-900/10 dark:hover:to-teal-900/10 transition-colors duration-200 group border border-emerald-200/30 dark:border-emerald-700/20">
            <span class="text-lg filter drop-shadow-sm">${a.icon}</span>
            <div class="flex-1 min-w-0">
              <p class="text-sm text-gray-900 dark:text-gray-100 group-hover:text-emerald-700 dark:group-hover:text-emerald-300 transition-colors duration-200">${a.message}</p>
              <p class="text-xs text-gray-500 dark:text-gray-400 group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-colors duration-200">${a.time}</p>
            </div>
          </div>
        `).join(""))}updateLastUpdatedTime(){const t=document.getElementById("last-update");t&&(t.textContent=`Last updated: ${new Date().toLocaleTimeString()}`)}startRealTimeUpdates(){setInterval(()=>{this.updateSystemMetrics()},5e3),setInterval(()=>{this.updateServiceHealth()},1e4),setInterval(()=>{this.updateRecentActivity()},3e4)}setupInteractiveElements(){document.querySelectorAll('[class*="hover:scale-105"]').forEach(t=>{t.addEventListener("mouseenter",()=>{t.classList.add("shadow-xl")}),t.addEventListener("mouseleave",()=>{t.classList.remove("shadow-xl")})}),document.querySelectorAll('button[class*="from-red-500"]').forEach(t=>{t.addEventListener("click",e=>{e.preventDefault(),confirm("Are you sure you want to perform this emergency action?")&&this.showToast("Emergency action initiated!","warning")})})}showToast(t,e="success"){const a={success:"from-emerald-500 to-teal-600",warning:"from-yellow-500 to-yellow-600",error:"from-red-500 to-red-600"},s=document.createElement("div");s.className=`fixed bottom-4 right-4 bg-gradient-to-r ${a[e]} text-white px-6 py-3 rounded-lg shadow-lg z-50 transform translate-y-full transition-transform duration-300`,s.textContent=t,document.body.appendChild(s),setTimeout(()=>{s.classList.remove("translate-y-full")},100),setTimeout(()=>{s.classList.add("translate-y-full"),setTimeout(()=>{document.body.removeChild(s)},300)},4e3)}}document.addEventListener("DOMContentLoaded",()=>{new i,n.startRealTimeUpdates()});
